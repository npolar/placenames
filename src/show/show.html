<span><md-icon>subdirectory_arrow_left</md-icon><a href="https://data.npolar.no">NPDC</a><md-tooltip>Norwegian Polar Data Centre [Home]</md-tooltip></span>
<span><md-icon>subdirectory_arrow_left</md-icon><a href="/">Placenames map</a><md-tooltip>Placename clustering</md-tooltip></span>
<span><md-icon>subdirectory_arrow_left</md-icon><a href=".">Placename search</a></span>


<section class="app-section" layout="column" ng-controller="PlacenameMapController as ctrl">
  <div id="npolar-esri-leaflet-map" style="height:400px;" class="leaflet-map"></div>
</section>

<article ng-controller="PlacenameShowController as ctrl" ng-show="p">

  <npdc:edit-button class="np-primary-control"></npdc:edit-button>

  <section>
    <md-card>
     <md-card-content>
       <header>
         <h1 class="md-display-2">{{ p.name["@value"]}}</h1>
         <p ng-if="p.relations.replaced_by">
           {{ p.status }} <span> {{ 'name'|t }} for: <span ng-repeat="r in p.relations.replaced_by"><a ng-href="{{ ctrl.uuid(r['@id']) }}">{{ r.name }}</a> </span>
         </p>
       </header>

      <span>{{ p.area}}, {{ p.country }} [{{ p.longitude}}, {{p.latitude}}, {{p.altitude||0}}]</span>
       <span ng-if="!p.relations.replaced_by">
         {{ p.status }} {{ 'geographic name'|t }} of {{ p.terrain | i18n }}
       </span>


     </md-card-content>
   </md-card>
  </section>

  <section>
    <md-card>
      <md-card-header>
        <md-card-avatar>
          <md-icon>text_fields</md-icon>
        </md-card-avatar>
        <md-card-header-text>
          <span class="md-headline">Definition and origin</span>
          <!--<span class="md-subhead">Definition and origin</span>-->
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
        <p ng-if="p.texts.definition">{{ p.texts.definition | i18n }}
  <!--      <span ng-show="ctrl.translations('definition').length > 1">
          <md-button><md-icon>language</md-icon></md-button>
          {{ ctrl.translations('definition') | json }}
          {{ p.texts.definition | json }}
        </span>-->

        </p>

        <p ng-if="p.texts.origin">{{ p.texts.origin | i18n }}</p>

        <p ng-if="p.properties.scar_place_id">Proposer: {{ p.properties.proposer }}</p>

        <p>{{ p.texts.note | i18n }}</p>

        <p ng-if="p.properties.scar_place_id">
          SCAR id: <a ng-href="https://data.aad.gov.au/aadc/gaz/scar/search_names_action.cfm?feature_type_code=0&country_id=0&north=-60&south=-90.0&west=-180.0&east=180.0&search_near=&radius=0.5&gazetteers=SCAR&search_text={{p.properties.scar_place_id}}&q=">{{ p.properties.scar_place_id }}
          </a>
        </p>

       <!--<span>{{ p.terrain_type | i18n }}: {{ p.terrain | i18n }}</span>-->

      </md-card-content>
    </md-card>
  </section>

  <section>
    <md-card>
      <md-card-header>
        <md-card-avatar>
          <md-icon>link</md-icon>
        </md-card-avatar>
        <md-card-header-text>
          <span class="md-headline">Relations</span>
          <!--<span class="md-subhead">Historical variants, synonyms, etc.</span>-->
        </md-card-header-text>
      </md-card-header>
      <md-card-content>

        <p ng-if="ctrl.replaces"><b>Replaces</b> <span ng-repeat="r in ctrl.replaces"><a ng-href="{{ r.id }}">{{ r.name['@value'] }}</a> </span></p>

        <p ng-if="p.relations.same_as"><b>Same as</b> <span ng-repeat="r in p.relations.same_as"><a ng-href="{{ uuid(r['@id']) }}">{{ r.name }}</a> </span></p>

        <section ng-if="p.relations.name_committee_case">
          <p ng-repeat="case in p.relations.name_committee_case"><b>Sak</b> {{ case.label }}
          <!-- [<a ng-href="?filter-relations.name_committee_case.@id={{ case['@id'] }}&q=">affected names</a>]-->
        </section>

        <b>Authority</b> <span>{{ p.relations.authority['@id'] | i18n }}</span>

      </md-card-content>
    </md-card>
  </section>

  <section ng-if="p.properties">
    <md-card ng-if="p.properties.reference">
      <md-card-header>
        <md-card-avatar>
          <md-icon>account_balance</md-icon>
        </md-card-avatar>
        <md-card-header-text>
          <span class="md-headline">References</span>
          <span class="md-subhead">Name used, defined, or mentioned by</span>
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
        <p ng-repeat="link in p.properties.reference">
          <!--<a ng-href="{{link}}" title="{{link}}">--><span>{{link}}</span><!--</a>-->
        </p>
      </md-card-content>
    </md-card>
  </section>

  <npdc:metadata document="p" resource="resource"></npdc:metadata>

</article>